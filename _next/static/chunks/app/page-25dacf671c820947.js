(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{471:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var a=r(5155),n=r(5695);r(2115);var s=r(2596),i=r(6874),l=r.n(i),o=r(1865),c=r(8776),u=r(702);function h(e){let{className:t="",page:r}=e,{data:n=[],error:i,isError:h,isFetching:m,isSuccess:d}=(0,c.D2)({limit:30,page:r},{refetchOnMountOrArgChange:!0});return m?(0,a.jsx)(o.A,{className:(0,s.A)(t,"tw:mb-4")}):d?(0,a.jsxs)("div",{className:(0,s.A)(t,"tw:overflow-y-auto tw:mb-4"),children:[n.map(e=>(0,a.jsx)(u.A,{className:"tw:mb-3",hnItem:e},e.id)),(0,a.jsx)(l(),{className:"tw:my-6 tw:inline-block",href:{query:{p:r+1}},children:"More"})]}):h?(0,a.jsx)("div",{className:(0,s.A)(t,"tw:mb-4"),children:i.toString()}):null}function m(){let e=(0,n.useSearchParams)().get("p"),t=1;return"string"!=typeof e||"string"!=typeof e||Number.isNaN(e)||Number.isNaN(parseFloat(e))||(t=parseInt(e,10)),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(h,{page:t})})}},702:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(5155),n=r(2596),s=r(6874),i=r.n(s);r(2115);var l=r(1701);function o(e){let{className:t="",hnItem:r}=e,s=null;r.itemHostname&&(s=(0,a.jsx)("span",{className:"tw:text-xs",children:" (".concat(r.itemHostname,")")}));let o=null;"score"in r&&(o=(0,a.jsx)("span",{children:"".concat(r.score," points ")}));let c=null;"descendants"in r&&(c=(0,a.jsxs)("span",{children:[" • ",(0,a.jsx)(i(),{href:r.itemUrl,children:"".concat(r.descendants," comments")})]}));let u=null;return"itemUpstreamUrl"in r&&"string"==typeof r.itemUpstreamUrl&&(u=(0,a.jsx)("span",{className:"tw:ml-3",children:(0,a.jsx)(i(),{href:r.itemUpstreamUrl,title:"Open in original HN",children:"☍"})})),(0,a.jsxs)("div",{className:(0,n.A)(t),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"tw:inline-block",children:(0,a.jsx)(i(),{href:r.url||r.itemUrl,children:r.title})}),s]}),(0,a.jsxs)("div",{className:"tw:text-xs tw:text-neutral-400",children:[o,(0,a.jsxs)("span",{children:["by ",(0,a.jsx)(i(),{href:r.creatorUrl,children:"".concat(r.by)})]}),(0,a.jsxs)("span",{children:[" • ",(0,a.jsx)(i(),{href:r.itemUrl,children:(0,a.jsx)(l.A,{date:1e3*r.time})})]}),c,u]})]})}},1701:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(2115);function n(e){let t=new Date(e);if(!Number.isNaN(t.valueOf()))return t;let r=String(e).match(/\d+/g);if(null==r||r.length<=2)return t;{let[e,t,...a]=r.map(e=>parseInt(e));return new Date(Date.UTC(e,t-1,...a))}}let s=(e,t,r)=>e+" "+(1!==e?t+"s":t)+" "+r;function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let l=()=>Date.now();function o({date:e,formatter:t,component:r="time",live:o=!0,minPeriod:c=0,maxPeriod:u=604800,title:h,now:m=l,...d}){let f,[p,g]=(0,a.useState)(m());(0,a.useEffect)(()=>{if(!o)return;let t=(()=>{let t=n(e).valueOf();if(!t)return console.warn("[react-timeago] Invalid Date provided"),0;let r=Math.round(Math.abs(p-t)/1e3),a=Math.min(Math.max(r<60?1e3:r<3600?6e4:r<86400?36e5:6048e5,1e3*c),1e3*u);return a?setTimeout(()=>{g(m())},a):0})();return()=>{t&&clearTimeout(t)}},[e,o,u,c,m,p]),(0,a.useEffect)(()=>{g(m())},[e]);let w=n(e).valueOf();if(!w)return null;let v=Math.round(Math.abs(p-w)/1e3),y=w<p?"ago":"from now",[j,x]=v<60?[Math.round(v),"second"]:v<3600?[Math.round(v/60),"minute"]:v<86400?[Math.round(v/3600),"hour"]:v<604800?[Math.round(v/86400),"day"]:v<2592e3?[Math.round(v/604800),"week"]:v<31536e3?[Math.round(v/2592e3),"month"]:[Math.round(v/31536e3),"year"],b=void 0===h?"string"==typeof e?e:n(e).toISOString().substring(0,16).replace("T"," "):h,N="time"===r?{...d,dateTime:n(e).toISOString()}:d,U=(e=e,t=t,r=r,a=w,n=s,i=i)=>s(e,t,r,a,n,i);try{(f=(t||s)(j,x,y,w,U,m))||(f=s(j,x,y,w,U,m))}catch(e){console.error("[react-timeago] Formatter threw an error:",e),f=s(j,x,y,w,U,m)}return a.createElement(r,i({},N,{title:b}),f)}},1865:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(5155),n=r(2596);function s(e){let{className:t="",children:r}=e;return(0,a.jsx)("div",{className:(0,n.A)(t,"tw:animate-pulse"),children:r||"Loading"})}r(2115)},2596:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=function(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,a,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(a=e(t[r]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a);return n}(e))&&(a&&(a+=" "),a+=t);return a}},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},6620:(e,t,r)=>{Promise.resolve().then(r.bind(r,471))},8776:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l,D2:()=>u,RM:()=>o,i8:()=>c,vf:()=>h});var a=r(404),n=r(4317);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/hn",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://news.ycombinator.com/",a={...e},n=new URL(window.location.origin);if(n.pathname="".concat(t,"/user"),n.searchParams.append("id",a.by),a.creatorUrl=n.href,a.url)try{let e=new URL(a.url);a.itemHostname=e.hostname}catch(e){}let s=new URL(window.location.origin);if(s.pathname="".concat(t,"/item"),s.searchParams.append("id",a.id.toString()),a.itemUrl=s.href,r){let e=new URL(r);e.pathname="/item",e.searchParams.append("id",a.id.toString()),a.itemUpstreamUrl=e.href}return a}let i=(0,a.xP)({baseQuery:(0,n.cw)({baseUrl:"https://hacker-news.firebaseio.com/v0/"}),endpoints:e=>({getItem:e.query({query:e=>({url:"/item/".concat(e,".json")}),transformResponse:e=>s(e)}),getItems:e.query({queryFn:async(e,t,r,a)=>{let n=[];for(let t=0;t<e.length;t+=1)n.push(a("item/".concat(e[t],".json")));try{let e=await Promise.allSettled(n),t=[];return e.forEach(e=>{"fulfilled"===e.status&&e.value.data&&t.push(s(e.value.data))}),{data:t}}catch(e){return{error:e}}}}),getTopItems:e.query({queryFn:async(e,t,r,a)=>{let{limit:n,page:i}=e,l=await a("/topstories.json");if(l.error)return{error:l.error};let o=l.data,c=[];for(let e=0,t=(i-1)*n;e<n;e+=1,t+=1)c.push(a("/item/".concat(o[t],".json")));try{let e=await Promise.allSettled(c),t=[];return e.forEach(e=>{"fulfilled"===e.status&&e.value.data&&t.push(s(e.value.data))}),{data:t}}catch(e){return{error:e}}}}),getUser:e.query({query:e=>({url:"/user/".concat(e,".json")})})}),reducerPath:"hnApi"}),l=i,{useGetItemQuery:o,useGetItemsQuery:c,useGetTopItemsQuery:u,useGetUserQuery:h}=i}},e=>{e.O(0,[404,874,441,964,358],()=>e(e.s=6620)),_N_E=e.O()}]);