(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{471:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var n=r(5155),a=r(5695);r(2115);var s=r(2596),i=r(6874),l=r.n(i),o=r(1865),c=r(8776),u=r(702);function h(e){let{className:t="",page:r}=e,{data:a=[],error:i,isError:h,isFetching:m,isSuccess:d}=(0,c.D2)({limit:30,page:r},{refetchOnMountOrArgChange:!0});return m?(0,n.jsx)(o.A,{className:(0,s.A)(t,"tw:mb-4")}):d?(0,n.jsxs)("div",{className:(0,s.A)(t,"tw:overflow-y-auto tw:mb-4"),children:[a.map(e=>(0,n.jsx)(u.A,{className:"tw:mb-3",hnItem:e},e.id)),(0,n.jsx)(l(),{className:"tw:my-6 tw:inline-block",href:{query:{p:r+1}},children:"More"})]}):h?(0,n.jsx)("div",{className:(0,s.A)(t,"tw:mb-4"),children:i.toString()}):null}function m(){let e=(0,a.useSearchParams)().get("p"),t=1;return"string"!=typeof e||"string"!=typeof e||Number.isNaN(e)||Number.isNaN(parseFloat(e))||(t=parseInt(e,10)),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(h,{page:t})})}},702:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(5155),a=r(2596),s=r(6874),i=r.n(s);r(2115);var l=r(1701);function o(e){let{className:t="",hnItem:r}=e,s=null;r.itemHostname&&(s=(0,n.jsx)("span",{className:"tw:text-xs",children:" (".concat(r.itemHostname,")")}));let o=null;"score"in r&&(o=(0,n.jsx)("span",{children:"".concat(r.score," points ")}));let c=null;"descendants"in r&&(c=(0,n.jsxs)("span",{children:[" | ",(0,n.jsx)(i(),{href:r.itemUrl,children:"".concat(r.descendants," comments")})]}));let u=null;return"itemUpstreamUrl"in r&&"string"==typeof r.itemUpstreamUrl&&(u=(0,n.jsxs)("span",{children:[" | ",(0,n.jsx)(i(),{href:r.itemUpstreamUrl,title:"Open in original HN",children:"☍"})]})),(0,n.jsxs)("div",{className:(0,a.A)(t),children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"tw:inline-block",children:(0,n.jsx)(i(),{href:r.url||r.itemUrl,children:r.title})}),s]}),(0,n.jsxs)("div",{className:"tw:text-xs tw:text-neutral-400",children:[o,(0,n.jsxs)("span",{children:["by ",(0,n.jsx)(i(),{href:r.creatorUrl,children:"".concat(r.by)})]}),(0,n.jsxs)("span",{children:[" ",(0,n.jsx)(i(),{href:r.itemUrl,children:(0,n.jsx)(l.A,{date:1e3*r.time})})]}),c,u]})]})}},1701:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2115);function a(e){let t=new Date(e);if(!Number.isNaN(t.valueOf()))return t;let r=String(e).match(/\d+/g);if(null==r||r.length<=2)return t;{let[e,t,...n]=r.map(e=>parseInt(e));return new Date(Date.UTC(e,t-1,...n))}}let s=(e,t,r)=>e+" "+(1!==e?t+"s":t)+" "+r;function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let l=()=>Date.now();function o({date:e,formatter:t,component:r="time",live:o=!0,minPeriod:c=0,maxPeriod:u=604800,title:h,now:m=l,...d}){let f,[p,g]=(0,n.useState)(m());(0,n.useEffect)(()=>{if(!o)return;let t=(()=>{let t=a(e).valueOf();if(!t)return console.warn("[react-timeago] Invalid Date provided"),0;let r=Math.round(Math.abs(p-t)/1e3),n=Math.min(Math.max(r<60?1e3:r<3600?6e4:r<86400?36e5:6048e5,1e3*c),1e3*u);return n?setTimeout(()=>{g(m())},n):0})();return()=>{t&&clearTimeout(t)}},[e,o,u,c,m,p]),(0,n.useEffect)(()=>{g(m())},[e]);let w=a(e).valueOf();if(!w)return null;let v=Math.round(Math.abs(p-w)/1e3),y=w<p?"ago":"from now",[j,x]=v<60?[Math.round(v),"second"]:v<3600?[Math.round(v/60),"minute"]:v<86400?[Math.round(v/3600),"hour"]:v<604800?[Math.round(v/86400),"day"]:v<2592e3?[Math.round(v/604800),"week"]:v<31536e3?[Math.round(v/2592e3),"month"]:[Math.round(v/31536e3),"year"],b=void 0===h?"string"==typeof e?e:a(e).toISOString().substring(0,16).replace("T"," "):h,N="time"===r?{...d,dateTime:a(e).toISOString()}:d,U=(e=e,t=t,r=r,n=w,a=s,i=i)=>s(e,t,r,n,a,i);try{(f=(t||s)(j,x,y,w,U,m))||(f=s(j,x,y,w,U,m))}catch(e){console.error("[react-timeago] Formatter threw an error:",e),f=s(j,x,y,w,U,m)}return n.createElement(r,i({},N,{title:b}),f)}},1865:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(5155),a=r(2596);function s(e){let{className:t="",children:r}=e;return(0,n.jsx)("div",{className:(0,a.A)(t,"tw:animate-pulse"),children:r||"Loading"})}r(2115)},2596:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,n,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(n=e(t[r]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}(e))&&(n&&(n+=" "),n+=t);return n}},5695:(e,t,r)=>{"use strict";var n=r(8999);r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},6620:(e,t,r)=>{Promise.resolve().then(r.bind(r,471))},8776:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l,D2:()=>u,RM:()=>o,i8:()=>c,vf:()=>h});var n=r(404),a=r(4317);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/hn",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://news.ycombinator.com/",n={...e},a=new URL(window.location.origin);if(a.pathname="".concat(t,"/user"),a.searchParams.append("id",n.by),n.creatorUrl=a.href,n.url)try{let e=new URL(n.url);n.itemHostname=e.hostname}catch(e){}let s=new URL(window.location.origin);if(s.pathname="".concat(t,"/item"),s.searchParams.append("id",n.id.toString()),n.itemUrl=s.href,r){let e=new URL(r);e.pathname="/item",e.searchParams.append("id",n.id.toString()),n.itemUpstreamUrl=e.href}return n}let i=(0,n.xP)({baseQuery:(0,a.cw)({baseUrl:"https://hacker-news.firebaseio.com/v0/"}),endpoints:e=>({getItem:e.query({query:e=>({url:"/item/".concat(e,".json")}),transformResponse:e=>s(e)}),getItems:e.query({queryFn:async(e,t,r,n)=>{let a=[];for(let t=0;t<e.length;t+=1)a.push(n("item/".concat(e[t],".json")));try{let e=await Promise.allSettled(a),t=[];return e.forEach(e=>{"fulfilled"===e.status&&e.value.data&&t.push(s(e.value.data))}),{data:t}}catch(e){return{error:e}}}}),getTopItems:e.query({queryFn:async(e,t,r,n)=>{let{limit:a,page:i}=e,l=await n("/topstories.json");if(l.error)return{error:l.error};let o=l.data,c=[];for(let e=0,t=(i-1)*a;e<a;e+=1,t+=1)c.push(n("/item/".concat(o[t],".json")));try{let e=await Promise.allSettled(c),t=[];return e.forEach(e=>{"fulfilled"===e.status&&e.value.data&&t.push(s(e.value.data))}),{data:t}}catch(e){return{error:e}}}}),getUser:e.query({query:e=>({url:"/user/".concat(e,".json")})})}),reducerPath:"hnApi"}),l=i,{useGetItemQuery:o,useGetItemsQuery:c,useGetTopItemsQuery:u,useGetUserQuery:h}=i}},e=>{e.O(0,[404,874,441,964,358],()=>e(e.s=6620)),_N_E=e.O()}]);